
for maven project

1- first check java is installed or not and if not the use below command:

yum install java-1.8.0-openjdk-devel

2- downloads maven binary file from apache maven official doc.example given below:
				
wget https://dlcdn.apache.org/maven/maven-3/3.9.2/binaries/apache-maven-3.9.2-bin.tar.gz

3- now you have to untar the file under any foler and copy untar file under any folder but hear we are using /opt folder:

tar -xvzf apache-maven-3.9.2-bin.tar.gz -C /opt

4- now you have to set the environment and path 

export M2_HOME=/opt/apache-maven-3.9.2

chk env also if you wantby (#env) command

export PATH=$PATH:$M2_HOME/bin

----------------------------------
now mvn ready to use you can check mvn version

mvn --version

now you can use project structure given by manven by below given command:

mvn archetype:generate

you can create sample JAR project structure

www.cloudbots.com

then build the file using below command :

before compile you can validate alos
mvn validate

if validate success go for build 

mvn compile
mvn test
mvn package

you can check maven local repo

cd ~/.M2
do long list (ll) and check


IF you want to Run jar file the use below 

(java -cp target/cloudboats_jarproj-1.0-SNAPSHOT.jar com.cloudboats.www.App)

=====================================================================================================================


FOR TOMCAT

1- check java is install or not if not then install 

yum install java-1.8.0-openjdk-devel

2- download tomcat by binary method 

wget https://dlcdn.apache.org/tomcat/tomcat-8/v8.5.89/bin/apache-tomcat-8.5.89.tar.gz

3- you have to untar and copy under /opt folder 

tar -xvzf apache-tomcat-8.5.89.tar.gz -C /opt

4- tomcat is 3rd pary tool you can create user to use it and give admin previlage for same user

useradd tomcat

add password for same user 
passwd tomcat


if you required to change ownership of tomcat then change it

chown -R tomcat:tomcat/opt/apache-tomcat-8.5.89

now login as tomcat user with below command:

#su - tomcat

now you have to change some configuration under XML file to run tomcat application.

open XML file under config folder i.e "/opt/apache-tomcat-8.5.89/conf"

before do any changes copy XML file under same folder for any diff folder

#cp tomcat-user.XML tomcat-user.XML.bkp

now open XML file and add Role , username and  password.
----------------------------------------------------------------
By default, no user is included in the "manager-gui" role required
  to operate the "/manager/html" web application.  If you wish to use this app,
  you must define such a user - the username and password are arbitrary.

<?xml version="1.0" encoding="UTF-8"?>
<tomcat-users>
  <role rolename="manager-gui"/>
  <user username="tomcatmgr" password="tomcatmgr" roles="manager-gui"/>
  <role rolename="manager-script"/>
  <user username="deploy" password="deploy" roles="manager-script"/>
</tomcat-users>
------------------------------------------------------------------
 
now restart the tomcat application 
 
# cd /opt/apache-tomcat-8.5.89/bin
./startup.sh
./shutdown.sh
./startup.sh

now open http://<host public ip>:8080

now after deployment WAR file if you want to run the file then  you have to allow your tomcat to access from any machine uner "CATALINA_BASE"


Go to #cd /opt/apache-tomcat-8.5.89/conf/Catalina/localhost

then create one manager.xml file and use below command:
<Context privileged="true" antiResourceLocking="false"
          docBase="${catalina.home}/webapps/manager">
          <Valve className="org.apache.catalina.valves.RemoteAddrValve" allow="^.*$" />
        </Context>

now again if you want to restart tomcat web application so you can restart.

# cd /opt/apache-tomcat-8.5.89/bin
./startup.sh
./shutdown.sh
./startup.sh


=====================================================================================================================


for ansible


ansible is open source configuration management tool which help to automate application deployment and taks automation ad-hoc task-execution


ansible are using ssh commuinication to communicate with client
it will do parallel execution 

ANSIBLE :

#Ansible has been written in python 
# It is configuration management tool 
# it will do task automation
# It will do app deployment 
#Ansible master and client server will communicate with SSH communication
#ansible maser will have INVENTORY file where all client ID address is mentioned for communication with client server
# Path = /etc/ansible/

How to install ansible:

Ansible is written in python so check first python is install or not 

python --version

Install ansible using yum command 

Yum install ansible -y

If it will show error like this then install ansible2

# amazon-linux-extras install ansible2

=====================================================
Failed to set locale, defaulting to C
Loaded plugins: extras_suggestions, langpacks, priorities, update-motd
amzn2-core                                                                                                                    | 3.7 kB  00:00:00     
No package ansible available.
Error: Nothing to do


ansible is available in Amazon Linux Extra topic "ansible2"

To use, run
# sudo amazon-linux-extras install ansible2

Learn more at
https://aws.amazon.com/amazon-linux-2/faqs/#Amazon_Linux_Extras
======================================================

[defaults]

# some basic default values...

#inventory      = /etc/ansible/hosts
#library        = /usr/share/my_modules/
#module_utils   = /usr/share/my_module_utils/
#remote_tmp     = ~/.ansible/tmp
#local_tmp      = ~/.ansible/tmp
#plugin_filters_cfg = /etc/ansible/plugin_filters.yml
#forks          = 5
#poll_interval  = 15
#sudo_user      = root

Create ansible user for better understanding

Useradd  ansadmin
Passwd ansadmin

Now provide admin privileges to ansadmin user using visudo file

{remove %wheel and add ansadmin}

Now under (sshd_config )file provide  permit root login as yes for auth of client server so it will ask password whenever u will login as client 

vim /etc/ssh/sshd_config 

Change PERMIT ROOT LOGIN AS YES


Now restart the service 

#Service sshd restart

Now login as ansadmin user

Su - ansadmin

Now Generate key 

ssh_keygen

Now if you want to give this key to client then copyit and 

#ssh-copy-id (pub id of client)


Now add client ip Under #inventory      = /etc/ansible/hosts


#ansible  <target> -m <ping>

Hear
-m for module
Ping is module

#ansible  all -m ping

[dev]
13.233.42.63

[qa]
13.233.42.63

[stage]
13.233.42.63

[prepro]
13.233.42.63

[prod]
13.233.42.63


#ansible dev -m ping

Ping for dev and prod gp then
#ansible  dev:prod -m ping

If u want to check server memory performance 

#ansible all -m shell -a "free -m"
hear
-a for append the command

From how much time server is up and running 
#ansible all -m shell -a "uptime"


If u want to check how many module r available
#ansible-doc -l
 
For particular module:
#ansible-doc -l | grep aws


To transfer a file using ansible 
Module name : copy
#ansible all -m copy -a "src=source path dest=dest path"
Ex:
#ansible all -m copy -a "src=./hosts dest=/tmp"

To download the file from client 
#ansible all -m fetch -a "src=/client path dest=master path"


How to create a file or directory using ansible 
Module : file

#ansible all -m file -a "path=/tmp/new.txt state=touch" 

How to install package using ansible to all Client machine

Module : Yum
#ansible all -m yum -a " name=httpd state=present or latest"

To become root user in ansible type -b in last 
Ex:
#ansible all -m yum -a "name=httpd state=present or latest" -b

---
 - hosts: all
   become: yes
   tasks:
   - yum: name=php state=latest
 
 - hosts: all
   become: yes
   tasks:
   - yum: name=php state=latest 


