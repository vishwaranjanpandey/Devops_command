
GIT Fifth TOKEN
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
########################################

GIT 6th Token
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

GIT 7th Token
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




########################################
#
############
GIT COMMANDS#
############

to keep track all the changes of each file manually it is not possible so will go with VCS(version controll system)

GIT : git is local repo To keep track of all the changes and commit done we use GIT

GITHUB: GitHub is a remote repo ... web-based Git repository where you ca push all the changes and commit which you have done.

to install git>>>>>>>>>>>>>>>>>

yum install git -y 


to check the modification you need to setup global parameter.

1. git config --global user.name "name"
2. git config --global user.email "email" 


to check the global parameter 

3. git config --list

to initialize 

4. git init

now check status 

5. git status

now for example creation one file 

7. vim test.java

 now again check the status  

8. git status( TO CHECK WHAT IS THE STATUS OF MY WORKING AREA )
---------------------------------------------------------------
|Working area   | cache/Stage area    | local remote area      |                   
|               |                     |                        |
|               |                     |                        |
|# git status   |# git add <file name>| # git commit -m "abc"  |
|               |                     |                        |
|               |                     |                        |

IN GIT 3 AREA WILL BE THERE 
1. WORKING AREA : Where you will write your program or code 
2. CACHE AREA/ STAGED AREA :  If you want to track the changes which you have done you need to add into staged area ( git add < file name > )
3. LOCAL REPO AREA: If you want to upload final version of code into local repo git ( git commit -m " commit messages " )

git add < file name >

git commit -m " messages for commit "
 
to check the commit status >>>>>>>>>>>>>

 ( git log )

if you want to discart the changes whatever you have done in working area then >>>>>>>>>>>>>

git restore < file name > ( discart the changes from working area ) 

git remote --staged     ( remove from cache area )



if you want to check latest changes previous version of the file >>>>>>>>>>

git diff < commit id of firt version > .. < commit if od second version >



How to filter log >>>>>>

git log --oneline


git log --since yyyy-mm-dd  ( check commit from last week or month ) 

git log --until yyyy-mm-dd   ( check commit till perticular date )

git log --since yyyy-mm-dd --oneline


git log --since yyyy-mm-dd --until yyyy-mm-dd 

git log --since yyyy-mm-dd --auther " vishwa.d "  ( check the log from perticular date for perticular auther vishwa.d ) 

git log -5 ( check first 5 line )




How to ignore the file >>>>>>>>>>>>>>>>>

if you clone the repo and all type of file is available on the same directory like (.PYTHON .TXT  .NET  .JAVA)


if it is (.java) then track it and ignore all other file >>>>>>>>>

then you have to create one hidden file ( .gitignore ) 


vim .gitignore

 -----------------------------------------------------------------------
|*.py   
|*.txt  
|*.net
|!one.net  ( even though .net is ignore but trach this perticular file )
|[aeiou]*.py { ignore the python file start with (aeiou) }
-------------------------------------------------------------------------

then do git add .
git commit -m "abc " 

 
How to rename the file in git >>>>>>>>>>>>>>>>>>>

git mv < old file name > < new file name >


HOW TO RESOLVE THE BUG ERROR ISSUE 

step 1 >>>>>> Make a copy of existing code by creating new branch ( just create new branch your code will autometically copied )  

step 2 >>>>>> fix the copy of the code ( jump into the new branch and do the changes and commit )

step 3 >>>>>> test the copy code 

step 4 >>>>>  merge the code with master 

git branch < new branch name > ( to create the new branch or copy the master branch )

git branch ( to view branch )

git diff < master branch > .. < new branch name >



How to jump inside new branch >>>>>>>>>>>>>>>>>>>>>>

git checkout < new branch name >

Now merge with master branch >>>>>>>>>>>>>>>>>>>>>>>

So hear <master> branch is the target branch and < newly created branch > is the source branch ( bug 1)

git checkout master 


git merge bug 1 ( hear bug 1 is the newly created branch )



How to rename the branch ????>>>>>>>>>>.

git branch -m < old branch name > < new branch name >



How to delete the branch ????????>>>>>>>>>>.

Before deleting branch you must go out of the branch then do delete 

git branch -d < branch name >



HOW TO DOWNLOAD THE CONTANT FROM REMOTE ??

two ways to download the contant 1.first fetch then merge  2. pull


Before download the contant from remote you need to check and establish communication between remote and local repo.          


git remote ( to check is there any communication from remote or not )

git remote -v ( details about remote repo )    

to add remote repo  >>>>>>>>>>>>>>>>>>>>>>>>>

git remote add origin < url >

After adding remote repo you can fetch and push the code if you check ( git remote -v )

git fetch    ( the moment you enter git fetch then the file will not directly add to local repo the file will come under local remote repo so

               you need to merge the file )

git checkout < target branch >  ( before merge you have to be in target branch )

git merge < source branch name > ( now you are already in target branch so just merge with source branch )


If you want to upload/Push the file from local repo to remote repo >>>>>>>>>>>>>>>>>


git push -u origin master 


if you want to clone the file 

git clone < url > 

=================================================================================================================================================================================

for maven project

1- first check java is installed or not and if not the use below command:

yum install java-1.8.0-openjdk-devel

2- downloads maven binary file from apache maven official doc.example given below:
				
wget https://dlcdn.apache.org/maven/maven-3/3.9.2/binaries/apache-maven-3.9.2-bin.tar.gz

3- now you have to untar the file under any foler and copy untar file under any folder but hear we are using /opt folder:

tar -xvzf apache-maven-3.9.2-bin.tar.gz -C /opt

4- now you have to set the environment and path 

export M2_HOME=/opt/apache-maven-3.9.2

chk env also if you wantby (#env) command

export PATH=$PATH:$M2_HOME/bin

----------------------------------
now mvn ready to use you can check mvn version

mvn --version

now you can use project structure given by manven by below given command:

mvn archetype:generate

you can create sample JAR project structure

www.cloudbots.com

then build the file using below command :

before compile you can validate alos
mvn validate

if validate success go for build 

mvn compile
mvn test
mvn package

you can check maven local repo

cd ~/.M2
do long list (ll) and check


IF you want to Run jar file the use below 

(java -cp target/cloudboats_jarproj-1.0-SNAPSHOT.jar com.cloudboats.www.App)

=========================================================================================================================================================================================


FOR TOMCAT

1- check java is install or not if not then install 

yum install java-1.8.0-openjdk-devel

2- download tomcat by binary method 

wget https://dlcdn.apache.org/tomcat/tomcat-8/v8.5.89/bin/apache-tomcat-8.5.89.tar.gz

3- you have to untar and copy under /opt folder 

tar -xvzf apache-tomcat-8.5.89.tar.gz -C /opt

4- tomcat is 3rd pary tool you can create user to use it and give admin previlage for same user

useradd tomcat

add password for same user 
passwd tomcat


if you required to change ownership of tomcat then change it

chown -R tomcat:tomcat/opt/apache-tomcat-8.5.89

now login as tomcat user with below command:

#su - tomcat

now you have to change some configuration under XML file to run tomcat application.

open XML file under config folder i.e "/opt/apache-tomcat-8.5.89/conf"

before do any changes copy XML file under same folder for any diff folder

#cp tomcat-user.XML tomcat-user.XML.bkp

now open XML file and add Role , username and  password.
----------------------------------------------------------------
By default, no user is included in the "manager-gui" role required
  to operate the "/manager/html" web application.  If you wish to use this app,
  you must define such a user - the username and password are arbitrary.

<?xml version="1.0" encoding="UTF-8"?>
<tomcat-users>
  <role rolename="manager-gui"/>
  <user username="tomcatmgr" password="tomcatmgr" roles="manager-gui"/>
  <role rolename="manager-script"/>
  <user username="deploy" password="deploy" roles="manager-script"/>
</tomcat-users>
------------------------------------------------------------------
 
now restart the tomcat application 
 
# cd /opt/apache-tomcat-8.5.89/bin
./startup.sh
./shutdown.sh
./startup.sh

now open http://<host public ip>:8080

now after deployment WAR file if you want to run the file then  you have to allow your tomcat to access from any machine uner "CATALINA_BASE"


Go to #cd /opt/apache-tomcat-8.5.89/conf/Catalina/localhost

then create one manager.xml file and use below command:
<Context privileged="true" antiResourceLocking="false"
          docBase="${catalina.home}/webapps/manager">
          <Valve className="org.apache.catalina.valves.RemoteAddrValve" allow="^.*$" />
        </Context>

now again if you want to restart tomcat web application so you can restart.

# cd /opt/apache-tomcat-8.5.89/bin
./startup.sh
./shutdown.sh
./startup.sh


=======================================================================================================================================================================================

#####################################
# Jenkin
#####################################

It is a integration and deploynment tool which help to integrate every environment tool in your project 



if tomacat already install in then login as tomcat user 

su - tomcat 

wget https://get.jenkins.io/war-stable/2.346.1/jenkins.war 

now copy jenkin.war into webapps folder 

cp jenkin.war /opt/apache-tomcat-8.5.89/webapps

now open jenkin.war file 

install jenking with suggested plugin and finish 


how to install plugins in jenkins

>>>>>> MAVEN INTEGRATION for maven 
>>>>>> from  global configuration tool configure the maven plugin and set HOME_PATH 
NAME :  MAVEN_HOME
PATH : /opt/apache-maven-3.9.1 

and save it for maven integration 

now you can create

COMPILE JOB
TEST JOB 
PACKAGE JOB


IF YOU WANT TO RUN ALL JOB IN SEQUENCE THEN SELECT THE OPTION 

" Build after another project are build "

IF YOU WANT TO VIEW ALL JOB IN PIPELINE VIEW THEN INSTALL PLUGIN CALLED AS 

" Build pipeline "

After package job done and if you want to deploy your WAR file into the TOMCAT then 

need to download  " DEPLOY TO CONTAINER " plugin
























for ansible


ansible is open source configuration management tool which help to automate application deployment and taks automation ad-hoc task-execution


ansible are using ssh commuinication to communicate with client
it will do parallel execution 

ANSIBLE :

#Ansible has been written in python 
# It is configuration management tool 
# it will do task automation
# It will do app deployment 
#Ansible master and client server will communicate with SSH communication
#ansible maser will have INVENTORY file where all client ID address is mentioned for communication with client server
# Path = /etc/ansible/

How to install ansible:

Ansible is written in python so check first python is install or not 

python --version

Install ansible using yum command 

Yum install ansible -y

If it will show error like this then install ansible2

# amazon-linux-extras install ansible2

=====================================================
Failed to set locale, defaulting to C
Loaded plugins: extras_suggestions, langpacks, priorities, update-motd
amzn2-core                                                                                                                    | 3.7 kB  00:00:00     
No package ansible available.
Error: Nothing to do


ansible is available in Amazon Linux Extra topic "ansible2"

To use, run
# sudo amazon-linux-extras install ansible2

Learn more at
https://aws.amazon.com/amazon-linux-2/faqs/#Amazon_Linux_Extras
======================================================

[defaults]

# some basic default values...

#inventory      = /etc/ansible/hosts
#library        = /usr/share/my_modules/
#module_utils   = /usr/share/my_module_utils/
#remote_tmp     = ~/.ansible/tmp
#local_tmp      = ~/.ansible/tmp
#plugin_filters_cfg = /etc/ansible/plugin_filters.yml
#forks          = 5
#poll_interval  = 15
#sudo_user      = root

Create ansible user for better understanding

Useradd  ansadmin
Passwd ansadmin

Now provide admin privileges to ansadmin user using visudo file

{remove %wheel and add ansadmin}

Now under (sshd_config )file provide  permit root login as yes for auth of client server so it will ask password whenever u will login as client 

vim /etc/ssh/sshd_config 

Change PERMIT ROOT LOGIN AS YES


Now restart the service 

#Service sshd restart

Now login as ansadmin user

Su - ansadmin

Now Generate key 

ssh_keygen

Now if you want to give this key to client then copyit and 

#ssh-copy-id (pub id of client)


Now add client ip Under #inventory      = /etc/ansible/hosts


#ansible  <target> -m <ping>

Hear
-m for module
Ping is module

#ansible  all -m ping

[dev]
13.233.42.63

[qa]
13.233.42.63

[stage]
13.233.42.63

[prepro]
13.233.42.63

[prod]
13.233.42.63


#ansible dev -m ping

Ping for dev and prod gp then
#ansible  dev:prod -m ping

If u want to check server memory performance 

#ansible all -m shell -a "free -m"
hear
-a for append the command

From how much time server is up and running 
#ansible all -m shell -a "uptime"


If u want to check how many module r available
#ansible-doc -l
 
For particular module:
#ansible-doc -l | grep aws


To transfer a file using ansible 
Module name : copy
#ansible all -m copy -a "src=source path dest=dest path"
Ex:
#ansible all -m copy -a "src=./hosts dest=/tmp"

To download the file from client 
#ansible all -m fetch -a "src=/client path dest=master path"


How to create a file or directory using ansible 
Module : file

#ansible all -m file -a "path=/tmp/new.txt state=touch" 

How to install package using ansible to all Client machine

Module : Yum
#ansible all -m yum -a " name=httpd state=present or latest"

To become root user in ansible type -b in last 
Ex:
#ansible all -m yum -a "name=httpd state=present or latest" -b

---
 - hosts: all
   become: yes
   tasks:
   - yum: name=php state=latest
 
 - hosts: all
   become: yes
   tasks:
   - yum: name=php state=latest 

############################################################
# NAGIOS SHELL SCRIPTING
#########################################################

#!/bin/bash

if [ ! -d "nagios" ]; then
  mkdir nagios
fi

cd nagios

if [ ! -f "/usr/bin/wget" ]; then
yum -y install wget
fi

if [ ! -f nagios-4.4.6.tar.gz ]; then 
wget http://prdownloads.sourceforge.net/sourceforge/nagios/nagios-4.4.6.tar.gz &
fi

if [ ! -f nagios-plugins-2.3.3.tar.gz ]; then 
wget http://nagios-plugins.org/download/nagios-plugins-2.3.3.tar.gz &
fi 

/usr/bin/id nagios 

if [ $? ]; then
useradd nagios
fi

/usr/bin/getent group nagcmd

if [ $? ]; then
groupadd nagcmd
fi

#exit
usermod -a -G nagcmd nagios

usermod -a -G nagios,nagcmd apache


yum install -y httpd php gcc glibc glibc-common gd gd-devel make net-snmp unzip 

tar xvfz nagios-4.4.6.tar.gz &

tar xvfz nagios-plugins-2.3.3.tar.gz &

cd nagios-4.4.6

./configure --with-command-group=nagcmd

make all

make install

make install-init

make install-config

make install-commandmode

make install-webconf

cp -R contrib/eventhandlers/ /usr/local/nagios/libexec/

chown -R nagios:nagios /usr/local/nagios/libexec/eventhandlers

/usr/local/nagios/bin/nagios -v /usr/local/nagios/etc/nagios.cfg

/etc/init.d/nagios start

/etc/init.d/httpd start

if [ ! -f "" ]; then
  echo "nagiosadmin:hAYh0VdO4gOwQ" > /usr/local/nagios/etc/htpasswd.users
fi

cd ../nagios-plugins-2.3.3

./configure --with-nagios-user=nagios --with-nagios-group=nagios

make

make install 

chkconfig --add nagios

chkconfig --level 35 nagios on

chkconfig --add httpd

chkconfig --level 35 httpd on

/etc/init.d/nagios restart

/etc/init.d/httpd restart

###################################################################

If Error Bat Intepritor will show then install below command...

yum install dos2unix.x86_64 -y

dos2unix -k -o install_nagios.sh 
...............................................
 
./install_nagios.sh 
service nagios status
service nagios start
chkconfig nagios on
service nagios status
service nagios restart
cd /var/www/html/
vim index.html
service httpd restart
service httpd status
service nagios restart

added last line 




